<ion-header>
    <ion-toolbar>
        <div align="right">
            <img src="../assets/imagenes/Logo.png" height="50" alt="">
        </div>

        <ion-buttons slot="start">
            <ion-menu-button menu="main-menu" color="light"> </ion-menu-button>
        </ion-buttons>

    </ion-toolbar>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
        integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"
        integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI"
        crossorigin="anonymous"></script>

</ion-header>


<ion-content>
    <h1> <em> CARRERA DE MEDICINA
            VETERINARIA Y ZOOTECNIA </em>


    </h1>

    <div class="form-container">
        <ion-grid *ngFor="let item of consultasMedicas; let sep">

            <p style="font-family: Georgia, 'Times New Roman', Times, serif; font-size: 17pt;">
                <ion-icon name="reader-outline"></ion-icon> <em> Historial Cl√≠nico
                </em>
            </p>
            <ion-row>
                <ion-col size="12" size-lg size-md size-sm size-xs class="ion-align-self-start">
                    <ion-item>
                        <ion-icon name="calendar-number-outline"></ion-icon>
                        <ion-label> No Historia:
                        <ion-label>  No Historia:
                            <br>
                            {{item.idHistorial}}
                        </ion-label>
                    </ion-item>
                </ion-col>
                <ion-col size="12" size-lg size-md size-sm size-xs class="ion-align-self-start">
                    <ion-item>
                        <ion-icon name="today-outline"></ion-icon>
                        <ion-label>Adminision
                            <br>
                            {{item.diaDeAdminision.split('T')[0]}}
                        </ion-label>
                    </ion-item>
                </ion-col>
                <ion-col size="12" size-lg size-md size-sm size-xs class="ion-align-self-start">
                    <ion-item>
                        <ion-icon name="alarm-outline"></ion-icon>
                        <ion-label>Hora:
                            <br>
                            {{item.hora}}
                        </ion-label>
                    </ion-item>
                </ion-col>

            </ion-row>
            <ion-row>
                <ion-col size="12" size-lg size-md size-sm size-xs class="ion-align-self-start">
                    <ion-item>
                        <ion-icon name="paw-outline"></ion-icon>
                        <ion-label> Paciente:
                            <br>
                            {{item.mascota_id.nombre}}
                        </ion-label>
                    </ion-item>
                </ion-col>
                <ion-col size="12" size-lg size-md size-sm size-xs class="ion-align-self-start">
                    <ion-item>
                        <ion-icon name="medkit-outline"></ion-icon>
                        <ion-label>Veterinario Encargado:
                            <br>
                            {{item.cedula_id.nombres}} {{item.cedula_id.apellidos}}
                        </ion-label>
                    </ion-item>
                </ion-col>
            </ion-row>

            <ion-row>

                <ion-col size="12" size-lg size-md size-sm size-xs class="ion-align-self-start">
                    <ion-item>
                        <ion-icon name="person-outline"></ion-icon>
                        <ion-label>&nbsp; <em><b>Propietario:</b></em>
                            {{item.mascota_id.id_mascota_propietario.propietario}}
                            <br>
                            &nbsp;<em><b>Correo:</b></em> {{item.mascota_id.id_mascota_propietario.correo}}
                            <br>
                            &nbsp;<em><b>Direccion:</b></em> {{item.mascota_id.id_mascota_propietario.direccion}}
                            <br>
                            &nbsp;<em><b>Telefono:</b></em> {{item.mascota_id.id_mascota_propietario.telefono}}
                            <br>
                            &nbsp;<em><b>Ciudad:</b></em> {{item.mascota_id.id_mascota_propietario.cuidad}}
                        </ion-label>
                    </ion-item>
                </ion-col>

            </ion-row>
            <p style="font-family: Georgia, 'Times New Roman', Times, serif; font-size: 17pt;"> <em> 1.Datos del
                    paciente:
                </em></p>

            <ion-row>

                <ion-col size="12" size-lg size-md size-sm size-xs class="ion-align-self-start">
                    <ion-item>
                        <ion-icon name="fish-outline"></ion-icon>
                        <ion-label> Especie:
                            <br>&nbsp; {{item.mascota_id.especie_id.especie_id.nombreEspecie}}
                        </ion-label>
                    </ion-item>
                </ion-col>
                <ion-col size="12" size-lg size-md size-sm size-xs class="ion-align-self-start">
                    <ion-item>
                        <ion-icon name="paw-outline"></ion-icon>
                        <ion-label> Raza:
                            <br>{{item.mascota_id.especie_id.nombre}}
                        </ion-label>
                    </ion-item>
                </ion-col>



            </ion-row>
            <ion-row>
                <ion-col size="12" size-lg size-md size-sm size-xs class="ion-align-self-start">
                    <ion-item>
                        <ion-label> Edad:
                            <br>{{item.mascota_id.edad}}
                        </ion-label>
                    </ion-item>
                </ion-col>

                <ion-col size="12" size-lg size-md size-sm size-xs class="ion-align-self-start">
                    <ion-item>
                        <ion-icon name="calendar-outline"></ion-icon>
                        <ion-label>Fecha Nacimiento:
                            <br> &nbsp; {{item.mascota_id.fechaNac}}
                        </ion-label>
                    </ion-item>
                </ion-col>

            </ion-row>

            <ion-row>
                <ion-col size="12" size-lg size-md size-sm size-xs class="ion-align-self-start">
                    <ion-item>
                        <ion-icon name="male-female-outline"></ion-icon>
                        <ion-label>Sexo: {{item.mascota_id.sexo}}</ion-label>
                    </ion-item>
                </ion-col>

            </ion-row>
            <ion-row>
                <ion-col size="12" size-lg size-md size-sm size-xs class="ion-align-self-start">

                    <p style="font-family: Georgia, 'Times New Roman', Times, serif; font-size: 17pt;"> <em> Consultas
                            Medicas:
                        </em></p>
                    <ion-button color="shade" (click)="agregarNuevaConsulta()">Agregar consulta medica</ion-button>

                </ion-col>

            </ion-row>



            <ion-card *ngFor="let item of consultaByHistoria |  paginate: {itemsPerPage:2, currentPage:cp} ">
                <!--  <ion-card-header>
                    <ion-card-title>No. Historia {{item.idHistorial}}</ion-card-title>
                </ion-card-header>
    -->
                <ion-card-content (click)="  editarConstantesDetByConsultaId(item.idConsultaMedica)">
                    <ion-card-subtitle>Fecha Consulta: {{item.fechaConsulta.split('T')[0]}}</ion-card-subtitle>
                    <ion-card-subtitle>Motivo Consulta: {{item.motivoConsulta}}</ion-card-subtitle>





                </ion-card-content>


                <div class="receta">


                    <ion-grid>
                        <ion-row>
                            <ion-col size="12" size-lg size-md size-sm size-xs class="ion-align-self-start"
                                style=" text-align: center;">


                                <ion-item>
                                    <img src="../../../assets/imagenes/recertamas.png" height="30"
                                        style=" text-align: center;" alt=""
                                        (click)="crearReceta(item.idConsultaMedica)" />
                                    <ion-label style=" font-weight: bold;">Crear</ion-label>
                            <ion-col size="12" size-lg size-md size-sm size-xs class="ion-align-self-start" style=" text-align: center;" >


                                <ion-item>
                                    <img src="../../../assets/imagenes/recertamas.png" height="30" style=" text-align: center;"  alt=""
                                        (click)="crearReceta(item.idConsultaMedica)" /> <ion-label style=" font-weight: bold;" >Crear</ion-label>

                                </ion-item>
                            </ion-col>
                            <ion-col size="12" size-lg size-md size-sm size-xs class="ion-align-self-start">
                                <ion-item>
                                    <img src="../../../assets/imagenes/verrece.png" height="30" alt=""
                                        (click)="verReceta(item.idConsultaMedica)" />
                                    <ion-label style=" font-weight: bold; font-style: italic;">&nbsp;Ver</ion-label>
                                        (click)="verReceta(item.idConsultaMedica)" /><ion-label style=" font-weight: bold; font-style: italic;">&nbsp;Ver</ion-label>

                                </ion-item>
                            </ion-col>
                        </ion-row>

                    </ion-grid>
                </div>
            </ion-card>


        </ion-grid>
        <div>
            <pagination-controls (pageChange)="cp = $event"   previousLabel="Antes"
            nextLabel="Siguiente"></pagination-controls>


          </div>



        <div align="center">
            <ion-grid>
                <ion-row>
                    <ion-col size="12" size-lg size-md size-sm size-xs class="ion-align-self-start">
                        <ion-button color="shade" (click)="atras()">Atras</ion-button>
                    </ion-col>
                    <br>
                </ion-row>
            </ion-grid>
        </div>
    </div>



</ion-content>
